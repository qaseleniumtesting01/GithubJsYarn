# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- master

pool:
  vmImage: ubuntu-latest

steps:
- script: echo Hello, world!
  displayName: 'Run a one-line script'
- task: Docker@2
  inputs:
    containerRegistry: 'Docker Hub'
    command: 'login'
- script: docker pull dockerdevws/wstestdata:C7954602
  displayName: 'docker pull'
- script: docker images
  displayName: 'docker images'
- task: WhiteSource@21
  inputs:
    cwd: '$(System.DefaultWorkingDirectory)'
    projectName: 'Docker_IMAGE_C7954602'
    configuration: |
      docker.scanImages=true
      docker.includes=C7954602
      docker.pull.enable=true
#- task: WhiteSource@21
#  inputs:
#    cwd: '$(System.DefaultWorkingDirectory)'
#    projectName: 'GithubJsYarnSanity'
#    configuration: |
#      npm.yarnProject=true
#      npm.runPreStep=true